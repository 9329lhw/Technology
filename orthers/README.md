# 其他

正排索引与倒排索引
    
    链接：https://www.cnblogs.com/AndyStudy/p/9042032.html
    正排索引：
        docid 作为索引的，但是在搜索的时候我们基本上都是用关键词来搜索所以，
        试想一下，我们搜一个关键字（Tom），当100个网页的10个网页含有Tom这个关键字。
        但是由于是正排是doc id 作为索引的，所以我们不得不把100个网页都扫描一遍，
        然后找出其中含有Tom的10个网页。然后再进行rank，sort等。效率就比较低了。
        尤其当现在网络上的网页数已经远远超过亿这个数量后，这种方式现在并不
        适合作为搜索的依赖。
    优点是：
        易维护；缺点是搜索的耗时太长
    
    倒排索引：
        是以word作为关键索引。表中关键字所对应的记录表项记录了出现这个字
        或词的所有文档，一个表项就是一个字表段，它记录该文档的ID和字符在
        该文档中出现的位置情况
    倒排包含两部分：
        1、由不同的索引词（index term）组成的索引表，称为“词典”（lexicon）。
        其中包含了各种词汇，以及这些词汇的统计信息（如出现频率nDocs），
        这些统计信息可以直接用于各种排名算法。
        2、由每个索引词出现过的文档集合，以及命中位置等信息构成。也称为“记录表”。
        就是正排索引产生的那张表。当然这部分可以没有。具体看自己的业务需求了。
        
Gossip 协议
    
raft算法

网页/应用访问慢突然变慢，如何定位问题

    1、top、iostat查看cpu、内存及io占用情况
    2、内核、程序参数设置不合理：查看有没有报内核错误，连接数用户打开文件数这些有没有达到上限等等
    3、链路本身慢：是否跨运营商、用户上下行带宽不够、dns解析慢、服务器内网广播风暴什么的
    4、程序设计不合理：是否程序本身算法设计太差，数据库语句太过复杂或者刚上线了什么功能引起的
    5、其它关联的程序引起的：如果要访问数据库，检查一下是否数据库访问慢
    6、是否被攻击了：查看服务器是否被DDos了等等
    7、硬件故障 这个一般直接服务器就挂了，而不是访问慢
    
    一、减少网站代码冗余
    二、对网站的首页图片进行处理
    三、使用CDN加速静态资源
    四、服务器本身的速度优化
    
    网页打开慢，响应时间慢，如何定位这个问题？
    首先思考：
    1.是一个用户慢，还是一群用户慢？还是全部用户慢？（思考这个问题可以定位是我们的问题，还是客户环境导致的问题）
    2.用户哪里慢？是支付慢？还是打开主页慢？还是错做洗面那个具体业务逻辑慢？（定位系统那部分出现了问题）
    3.监控-针对特定问题，编写性能脚本，进行问题的复现。引入开发人员（cpu,output带宽多少等） 
    采用控制变量法 一个一个去监控 客户端呈现时间，请求，响应数据网络传输时间，应用服务器处理时间，数据库系统处理时间，看看那个华纳经的时间比较长，在针对去处理。
    查看服务器收到请求到响应请求的总时间快还是慢 2.查看当前网络流量是否已经超限 3.浏览器上检车页面代开的各部分响应时间。 
    先确认自己是否有类似响应慢的问题，已确认服务器是否正常 2.如果服务器正常，让用户访问其他网站已确认是否正常，正常的话可以让用户ping一下服务器。
    先自己在公司访问被测网站，如果不慢，则是用户电脑或者网络的问题，让用户换一台电脑，如果也慢就是网络的问题，如果不慢就是电脑的问题，如果公司访问也慢，在查看服务器。